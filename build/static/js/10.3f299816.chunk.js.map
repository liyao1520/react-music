{"version":3,"sources":["services/article.js","pages/discover/c-pages/artist/style.js","../node_modules/antd/es/divider/index.js","pages/discover/c-pages/artist/index.js"],"names":["getArtistList","params","request","url","getArtistDetail","id","ArtistWrapper","styled","div","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Divider","props","React","ConfigConsumer","_ref","_classNames","getPrefixCls","direction","customizePrefixCls","prefixCls","_props$type","type","_props$orientation","orientation","className","children","dashed","plain","restProps","orientationPrefix","concat","hasChildren","classString","classNames","_defineProperty","_extends","role","memo","history","useHistory","location","useLocation","search","URLSearchParams","areaId","get","typeId","useState","artistList","setArtistList","currentArea","artistArea","find","item","value","currentType","artistType","titleStr","name","useEffect","area","limit","then","res","artists","artistTypeClick","useCallback","console","log","replace","artistClick","push","map","onClick","slice","info","style","margin"],"mappings":"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","file":"static/js/10.3f299816.chunk.js","sourcesContent":["import request from \"@/utils/request\";\nexport const getArtistList = (params) =>\n  request({\n    url: \"/artist/list\",\n    params,\n  });\n//歌手热门50首歌曲\nexport const getArtistTopSong = (id) =>\n  request({\n    url: \"/artist/top/song\",\n    params: {\n      id,\n    },\n  });\n\n//获取歌手详情\nexport const getArtistDetail = (id) =>\n  request({\n    url: \"/artists\",\n    params: {\n      id,\n    },\n  });\n//获取相似歌手\nexport const getSimiArtist = (id) =>\n  request({\n    url: \"/simi/artist\",\n    params: {\n      id,\n    },\n  });\n","import styled from \"styled-components\";\nexport const ArtistWrapper = styled.div`\n  display: flex;\n  width: 982px;\n  margin: 0 auto;\n  background-color: #fff;\n  border: 1px solid #d3d3d3;\n  border-width: 0 1px;\n  .left {\n    padding-top: 30px;\n    width: 180px;\n    border-right: 1px solid #d3d3d3;\n    background-color: #f9f9f9;\n    .wrap {\n      border-bottom: 1px solid #d3d3d3;\n      .title {\n        margin-top: 10px;\n        color: #333;\n        height: 25px;\n        padding-left: 14px;\n        font-size: 16px;\n        font-family: \"Microsoft Yahei\";\n        font-weight: 700;\n      }\n      .artist-list {\n        .artist-item {\n          width: 160px;\n          height: 29px;\n          padding-left: 10px;\n          line-height: 29px;\n          font-size: 12px;\n          margin-bottom: 2px;\n          .active {\n            border: 1px solid #ccc;\n            color: #c20c0c;\n            background-color: #fbfbfb;\n          }\n          a {\n            display: inline-block;\n            width: 133px;\n            height: 25px;\n            line-height: 25px;\n            padding-left: 15px;\n            border-radius: 3px;\n          }\n        }\n      }\n    }\n  }\n  .right {\n    width: 799px;\n    padding: 40px;\n    .title {\n      height: 40px;\n      border-bottom: 2px solid #c20c0c;\n      font-size: 24px;\n    }\n    .artist-list {\n      display: flex;\n      flex-wrap: wrap;\n      .item {\n        width: 20%;\n        display: flex;\n        justify-content: center;\n        margin-top: 15px;\n        cursor: pointer;\n      }\n    }\n  }\n`;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Divider = function Divider(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$type = props.type,\n        type = _props$type === void 0 ? 'horizontal' : _props$type,\n        _props$orientation = props.orientation,\n        orientation = _props$orientation === void 0 ? 'center' : _props$orientation,\n        className = props.className,\n        children = props.children,\n        dashed = props.dashed,\n        plain = props.plain,\n        restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\", \"plain\"]);\n\n    var prefixCls = getPrefixCls('divider', customizePrefixCls);\n    var orientationPrefix = orientation.length > 0 ? \"-\".concat(orientation) : orientation;\n    var hasChildren = !!children;\n    var classString = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\"), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\").concat(orientationPrefix), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dashed\"), !!dashed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-plain\"), !!plain), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classString\n    }, restProps, {\n      role: \"separator\"\n    }), children && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-inner-text\")\n    }, children));\n  });\n};\n\nexport default Divider;","import React, { memo, useCallback, useEffect, useState } from \"react\";\nimport { artistArea, artistType } from \"@/common/local-data\";\nimport { ArtistWrapper } from \"./style\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { getArtistList } from \"@/services/article\";\nimport ArtistCover from \"@/components/artist-cover\";\nimport { Divider } from \"antd\";\nexport default memo(function Article() {\n  const history = useHistory();\n  const location = useLocation();\n  const search = new URLSearchParams(location.search);\n  const areaId = search.get(\"area\") ? search.get(\"area\") : \"-1\";\n  const typeId = search.get(\"type\") ? search.get(\"type\") : \"1\";\n  const [artistList, setArtistList] = useState([]);\n  const currentArea = artistArea.find((item) => item.value === areaId);\n  const currentType = artistType.find((item) => item.value === typeId);\n  let titleStr = null;\n  if (currentArea && currentType) {\n    titleStr = currentArea.name + currentType.name;\n  }\n  useEffect(() => {\n    getArtistList({\n      area: areaId,\n      type: typeId,\n      limit: 100,\n    }).then((res) => {\n      setArtistList(res.artists);\n    });\n  }, [areaId, typeId]);\n  const artistTypeClick = useCallback(\n    (area, type) => {\n      console.log(area, type);\n      history.replace(`/discover/artist?area=${area}&type=${type}`);\n    },\n    [history]\n  );\n  const artistClick = useCallback(\n    (id) => {\n      history.push(\"/artist?id=\" + id);\n    },\n    [history]\n  );\n  return (\n    <ArtistWrapper>\n      <div className=\"left\">\n        <div>\n          {artistArea.map((item) => {\n            return (\n              <div className=\"wrap\" key={item.value}>\n                <h3 className=\"title\">{item.name}</h3>\n                <ul className=\"artist-list\">\n                  {artistType.map((type) => {\n                    return (\n                      <li\n                        className=\"artist-item\"\n                        onClick={(e) => {\n                          artistTypeClick(item.value, type.value);\n                        }}\n                        key={type.value}\n                      >\n                        <a className={areaId === item.value && typeId === type.value ? \"active\" : \"\"}>\n                          {item.name + type.name}\n                        </a>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"right\">\n        <div className=\"title\">{titleStr}</div>\n        <div className=\"artist-list\">\n          {artistList.slice(0, 10).map((item) => {\n            return (\n              <div className=\"item\" onClick={(e) => artistClick(item.id)} key={item.id}>\n                <ArtistCover info={item} />\n              </div>\n            );\n          })}\n        </div>\n        <Divider style={{ margin: \"10px\" }} />\n        <div className=\"artist-list\">\n          {artistList.slice(10).map((item) => {\n            return (\n              <div className=\"item\" onClick={(e) => artistClick(item.id)} key={item.id}>\n                <a>{item.name}</a>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </ArtistWrapper>\n  );\n});\n"],"sourceRoot":""}