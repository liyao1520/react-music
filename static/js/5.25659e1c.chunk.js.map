{"version":3,"sources":["pages/discover/style.js","components/songs-cover-mini/style.js","components/songs-cover-mini/index.js","components/recommend-navbar/index.js","assets/img/sprite_cover.png","pages/song/style.js","pages/song/index.js"],"names":["DiscoverWrapper","styled","div","SongsCoverMiniWrapper","memo","props","info","history","useHistory","playlistClick","id","push","className","onClick","e","src","getSizeImage","coverImgUrl","alt","name","creator","nickname","discoverMenu","map","item","to","path","exact","title","SongWrapper","sprite_cover","URLSearchParams","location","search","get","useState","musicInfo","setMusicInfo","lyricList","setlyricList","playlists","setPlaylists","isopen","setIsOpen","dispatch","useDispatch","useEffect","getSongDetail","then","res","songs","alert","replace","getLyric","nolyric","lrc","parseLyric","lyric","getSimiPlayList","Object","keys","length","al","picUrl","alia","ar","event","preventDefault","getCurrentSongAction","slice","content","time"],"mappings":"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","file":"static/js/5.25659e1c.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const DiscoverWrapper = styled.div`\n  height: 29px;\n  background-color: #c20c0c;\n  border-bottom: 1px solid #a40011;\n  .wrap-v1 {\n    height: 100%;\n  }\n  .nav-link {\n    display: flex;\n    height: 100%;\n    padding-left: 180px;\n    li {\n      height: 100%;\n      margin: 0 20px;\n      padding-top: 2px;\n      a {\n        width: 100%;\n        padding: 3px 13px;\n        color: #fff;\n        text-decoration: none;\n        border-radius: 10px;\n        &:hover {\n          background-color: rgba(0, 0, 0, 0.3);\n        }\n      }\n      .active {\n        background-color: rgba(0, 0, 0, 0.3);\n      }\n    }\n  }\n`;\n","import styled from \"styled-components\";\nexport const SongsCoverMiniWrapper = styled.div`\n  display: flex;\n  width: 200px;\n  height: 50px;\n  margin-bottom: 15px;\n  line-height: 24px;\n  .playlist-left {\n    width: 50px;\n    height: 50px;\n    cursor: pointer;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .playlist-right {\n    margin-left: 10px;\n    .name {\n      width: 140px;\n      a {\n        color: #000;\n        font-size: 14px;\n      }\n    }\n    .creator {\n      .nickname {\n        margin-left: 5px;\n      }\n    }\n  }\n`;\n","import { getSizeImage } from \"@/utils/format-data\";\nimport React, { memo } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { SongsCoverMiniWrapper } from \"./style\";\nexport default memo(function SongsCoverMini(props) {\n  const { info } = props;\n\n  const history = useHistory();\n  function playlistClick(id) {\n    history.push(\"/playlist?id=\" + id);\n  }\n  return (\n    <SongsCoverMiniWrapper>\n      <div\n        className=\"playlist-left\"\n        onClick={(e) => {\n          playlistClick(info.id);\n        }}\n      >\n        <img src={getSizeImage(info.coverImgUrl, 50)} alt=\"\" />\n      </div>\n      <div className=\"playlist-right\">\n        <div className=\"name text-nowrap\">\n          <a\n            onClick={(e) => {\n              playlistClick(info.id);\n            }}\n          >\n            {info.name}\n          </a>\n        </div>\n        <div className=\"creator\">\n          <span>by</span>\n          <span className=\"nickname\">{info.creator && info.creator.nickname}</span>\n        </div>\n      </div>\n    </SongsCoverMiniWrapper>\n  );\n});\n","import React, { memo } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { discoverMenu } from \"@/common/local-data\";\nimport { DiscoverWrapper } from \"@/pages/discover/style\";\nexport default memo(function NavBar() {\n  return (\n    <DiscoverWrapper>\n      <div className=\"wrap-v1\">\n        <ul className=\"nav-link\">\n          {discoverMenu.map((item) => {\n            return (\n              <li key={item.title}>\n                <NavLink to={item.path} exact>\n                  {item.title}\n                </NavLink>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </DiscoverWrapper>\n  );\n});\n","export default __webpack_public_path__ + \"static/media/sprite_cover.741609ed.png\";","import styled from \"styled-components\";\nimport sprite_cover from \"@/assets/img/sprite_cover.png\";\nexport const SongWrapper = styled.div`\n  display: flex;\n  width: 980px;\n  border: 1px solid #ccc;\n  border-bottom: 0;\n  border-top: 0;\n  margin: 0 auto;\n  .music-info {\n    display: flex;\n  }\n  .left {\n    width: 709px;\n    padding: 47px 30px 40px 39px;\n\n    .cover {\n      width: 206px;\n\n      .img-wrap {\n        position: relative;\n        width: 206px;\n        height: 205px;\n        background: url(${sprite_cover}) no-repeat -140px -580px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        img {\n          position: absolute;\n          z-index: -1;\n          width: 130px;\n          height: 130px;\n        }\n      }\n    }\n    .music-content {\n      margin-left: 25px;\n      .header {\n        padding-left: 40px;\n        margin-bottom: 15px;\n        .music-name {\n          font-size: 24px;\n          color: #333;\n        }\n        .music-desc {\n          color: #bababa;\n          font-size: 14px;\n        }\n      }\n      .singer,\n      .album {\n        margin: 10px 0;\n        color: #999;\n        span {\n          margin-right: 4px;\n        }\n        a {\n          color: #0c73c2;\n        }\n      }\n      .btns {\n        margin-bottom: 20px;\n        display: flex;\n        .play {\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          background-position: 0 -387px;\n          text-align: center;\n          width: 61px;\n          height: 31px;\n          color: #fff;\n          i {\n            display: inline-block;\n            width: 20px;\n            height: 18px;\n            margin: -2px 2px 0;\n            background-position: 0 -1622px;\n          }\n        }\n        .add-icon {\n          display: inline-block;\n          width: 31px;\n          height: 31px;\n          margin-left: -3px;\n          padding-right: 0;\n          background-position: 0 -1588px;\n          text-indent: -9999px;\n        }\n        .item {\n          display: inline-block;\n          height: 31px;\n          margin-right: 6px;\n          padding-right: 5px;\n          background-position: right -1020px;\n          display: flex;\n          align-items: center;\n        }\n        .comment-icon {\n          background-position: 0 -1465px;\n        }\n      }\n      .lyric-content {\n        .open {\n          cursor: pointer;\n          color: #0c73c2;\n          &:hover {\n            text-decoration: underline;\n          }\n        }\n      }\n    }\n  }\n  .right {\n    padding: 20px 40px 40px 30px;\n    width: 270px;\n    border-left: 1px solid #ccc;\n    .related-playList {\n      height: 23px;\n      margin-bottom: 20px;\n      border-bottom: 1px solid #ccc;\n      color: #333;\n      font-weight: 700;\n    }\n  }\n`;\n","import React, { memo, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport RecommendNavBar from \"@/components/recommend-navbar\";\nimport { SongWrapper } from \"./style\";\nimport { getSongDetail } from \"@/services/player\";\nimport { getLyric } from \"@/services/song\";\nimport { getSizeImage } from \"@/utils/format-data\";\nimport { parseLyric } from \"@/utils/parse-lyric\";\nimport { getCurrentSongAction } from \"../player/store/actionCreators\";\nimport Download from \"@/components/download\";\nimport { getSimiPlayList } from \"@/services/playlist\";\nimport SongsCoverMini from \"@/components/songs-cover-mini\";\nimport { NavLink } from \"react-router-dom\";\n\nexport default memo(function Song(props) {\n  const search = new URLSearchParams(props.location.search);\n  const id = search.get(\"id\");\n  const [musicInfo, setMusicInfo] = useState({});\n  const [lyricList, setlyricList] = useState([]);\n  const [playlists, setPlaylists] = useState([]);\n  const [isopen, setIsOpen] = useState(false);\n  const dispatch = useDispatch();\n\n  function playMusic(event) {\n    event.preventDefault();\n    dispatch(getCurrentSongAction(id));\n  }\n  useEffect(() => {\n    getSongDetail(id).then((res) => {\n      if (!res.songs[0]) {\n        alert(\"对不起您访问的网址有问题!\");\n        props.history.replace(\"/\");\n      } else {\n        setMusicInfo(res.songs[0]);\n      }\n    });\n    getLyric(id).then((res) => {\n      if (res.nolyric || !res.lrc) {\n        setlyricList([]);\n        return;\n      }\n      const lyricList = parseLyric(res.lrc.lyric);\n      setlyricList(lyricList);\n    });\n    getSimiPlayList(id).then((res) => {\n      setPlaylists(res.playlists);\n    });\n  }, [id, props.history]);\n  return (\n    Object.keys(musicInfo).length && (\n      <div>\n        <RecommendNavBar />\n        <SongWrapper>\n          <div className=\"left\">\n            <div className=\"music-info\">\n              <div className=\"cover\">\n                <div className=\"img-wrap\">\n                  <img src={getSizeImage(musicInfo.al.picUrl, 130)} alt=\"\" />\n                </div>\n              </div>\n              <div className=\"music-content\">\n                <div className=\"header\">\n                  <div className=\"music-name\">{musicInfo.name}</div>\n                  <div className=\"music-desc\">{musicInfo.alia[0]}</div>\n                </div>\n                <div className=\"singer\">\n                  <span>歌手:</span>\n                  <NavLink to={\"/artist?id=\" + musicInfo.ar[0].id}>{musicInfo.ar[0].name}</NavLink>\n                </div>\n                <div className=\"album\">\n                  <span>所属专辑:</span>\n                  <a>{musicInfo.al.name}</a>\n                </div>\n                <div className=\"btns\">\n                  <a className=\"sprite_button play\" onClick={playMusic}>\n                    <i className=\"sprite_button\"></i>\n                    <span>播放</span>\n                  </a>\n                  <span className=\"add-icon sprite_button\">+</span>\n                </div>\n                <div className=\"lyric-content\">\n                  {lyricList.length ? (\n                    <ul>\n                      {lyricList.slice(0, 15).map((item) => {\n                        return <li key={item.time}>{item.content}</li>;\n                      })}\n                      {isopen &&\n                        lyricList.slice(15).map((item) => {\n                          return <li key={item.time}>{item.content}</li>;\n                        })}\n                      <i>\n                        <span className=\"open\" onClick={(e) => setIsOpen(!isopen)}>\n                          {isopen ? \"收起\" : \"展开\"}\n                        </span>\n                        <span>{isopen ? \"👆\" : \"👇\"}</span>\n                      </i>\n                    </ul>\n                  ) : (\n                    <p>~无歌词~</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"right\">\n            <div className=\"related-playList\">包含这首歌的歌单</div>\n            {playlists.map((item) => {\n              return <SongsCoverMini info={item} key={item.id} />;\n            })}\n            <Download />\n          </div>\n        </SongWrapper>\n      </div>\n    )\n  );\n});\n"],"sourceRoot":""}